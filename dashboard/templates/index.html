<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post9 Sports Investing Dashboard</title>
    <!-- TailwindCSS CDN - For development only. Replace with compiled CSS in production -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../static/styles.css">
    <style>
        body {
            background: linear-gradient(120deg, #0a1a2f 0%, #1e3350 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', 'Roboto', 'Arial', sans-serif;
        }
        .post9-logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }
        .post9-title {
            font-size: 3.5rem;
            font-weight: 900;
            color: #fff;
            letter-spacing: 2px;
            text-shadow: 0 2px 8px #0a1a2f;
        }
        .post9-accent {
            color: #ff9900;
            font-weight: 900;
        }
        .post9-tagline {
            font-size: 1.25rem;
            color: #ff9900;
            font-weight: 600;
            text-align: center;
            margin-top: 0.5rem;
            letter-spacing: 1px;
        }
        .metric-card, .table-container, .modal-content {
            background: rgba(255,255,255,0.95);
            border-radius: 1rem;
            box-shadow: 0 4px 24px rgba(10,26,47,0.12);
        }
        .nav-btn {
            font-size: 1.2rem;
            font-weight: 700;
            color: #fff;
            background: none;
            border: none;
            padding: 0.5rem 1.5rem;
            border-radius: 2rem;
            transition: background 0.2s, color 0.2s;
        }
        .nav-btn:hover {
            background: #ff9900;
            color: #0a1a2f;
        }
        .post9-btn {
            background: linear-gradient(90deg, #ff9900 0%, #ffb84d 100%);
            color: #0a1a2f;
            font-weight: 700;
            border-radius: 2rem;
            box-shadow: 0 2px 8px #ff9900a0;
            transition: transform 0.1s;
        }
        .post9-btn:hover {
            transform: scale(1.05);
            background: linear-gradient(90deg, #ffb84d 0%, #ff9900 100%);
        }
        .post9-card {
            border: 2px solid #ff9900;
            box-shadow: 0 2px 12px #ff990080;
        }
        /* Stats Grid Layout */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
        }
        .stats-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid transparent;
            transition: transform 0.3s, border-color 0.3s;
        }
        .stats-card:hover {
            transform: translateY(-5px);
            border-color: #ff9900;
        }
        .stats-icon {
            font-size: 2.5rem;
            display: block;
            margin-bottom: 0.5rem;
        }
        .stats-label {
            font-size: 0.875rem;
            color: #a0aec0;
            margin-bottom: 0.25rem;
        }
        .stats-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            display: block;
            margin-bottom: 0.25rem;
        }
        .stats-trend {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 0.875rem;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            color: #fff;
        }
        .stats-trend.positive {
            background: rgba(76, 175, 80, 0.2);
        }
        .stats-trend.negative {
            background: rgba(244, 67, 54, 0.2);
        }
        
        /* Predictive Analytics Styles */
        .predictive-tab-btn {
            flex: 1;
            padding: 0.75rem 1rem;
            text-align: center;
            font-weight: 600;
            border-radius: 0.5rem;
            transition: all 0.3s ease;
            color: #9CA3AF;
            background: transparent;
            border: none;
            cursor: pointer;
        }
        .predictive-tab-btn.active {
            background: #ff9900;
            color: #0a1a2f;
        }
        .predictive-tab-btn:hover:not(.active) {
            color: #ffffff;
            background: rgba(255, 153, 0, 0.2);
        }
        .predictive-tab-content {
            min-height: 400px;
        }
        .predictive-tab-content.hidden {
            display: none;
        }
        
        /* Training Queue Styles */
        .training-tab-btn {
            background: transparent;
            color: #9CA3AF;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 500;
            transition: all 0.2s;
            border: none;
            cursor: pointer;
        }
        
        .training-tab-btn.active, .training-tab-btn:hover {
            background: #374151;
            color: #fff;
        }
        
        .training-tab-content {
            background: rgba(255,255,255,0.05);
            border-radius: 0.5rem;
            padding: 1.5rem;
        }
        
        .training-job-card {
            background: rgba(255,255,255,0.08);
            border-radius: 0.5rem;
            padding: 1rem;
            border-left: 4px solid #10B981;
            transition: transform 0.2s;
        }
        
        .training-job-card:hover {
            transform: translateX(4px);
        }
        
        .training-job-card.running {
            border-left-color: #3B82F6;
        }
        
        .training-job-card.completed {
            border-left-color: #10B981;
        }
        
        .training-job-card.failed {
            border-left-color: #EF4444;
        }
        
        .training-job-card.queued {
            border-left-color: #F59E0B;
        }
        
        .progress-bar {
            background: rgba(255,255,255,0.1);
            border-radius: 1rem;
            height: 0.5rem;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #10B981, #34D399);
            height: 100%;
            border-radius: 1rem;
            transition: width 0.3s;
        }
    </style>
    <script>
        function showPage(pageId) {
            const pages = ['dashboard-page', 'investments-page', 'strategy-builder-page', 'model-gallery-page', 'training-queue-page', 'predictive-analytics-page', 'analytics-page', 'account-page'];
            pages.forEach(id => {
                const pageElement = document.getElementById(id);
                if (pageElement) {
                    pageElement.style.display = (id === pageId) ? 'block' : 'none';
                }
            });
            if (pageId === 'investments-page') {
                // Load cached investments instead of automatically refreshing
                if (typeof window.loadCachedInvestments === 'function') {
                    window.loadCachedInvestments();
                } else {
                    console.error("loadCachedInvestments is not defined.");
                }
            } else if (pageId === 'account-page') {
                // Load API status when account page is shown
                if (typeof window.refreshApiStatus === 'function') {
                    setTimeout(() => window.refreshApiStatus(), 100);
                }
            }
        }
    </script>
</head>
<body class="flex flex-col items-center justify-start min-h-screen p-8">
    <nav class="flex space-x-4 mb-6 flex-wrap">
        <button onclick="showPage('dashboard-page')" class="nav-btn">Dashboard</button>
        <button onclick="showPage('investments-page')" class="nav-btn">Available Investments</button>
        <button onclick="showPage('strategy-builder-page')" class="nav-btn">Strategy Builder</button>
        <button onclick="showPage('model-gallery-page')" class="nav-btn">Model Gallery</button>
        <button onclick="showPage('training-queue-page')" class="nav-btn">üî• Training Queue</button>
        <button onclick="showPage('predictive-analytics-page')" class="nav-btn">üîÆ Predictive Analytics</button>
        <button onclick="showPage('analytics-page')" class="nav-btn">Advanced Analytics</button>
        <a href="/scores" class="nav-btn">üèÜ Scores & Standings</a>
        <button onclick="showPage('account-page')" class="nav-btn">Account</button>
    </nav>
    <div id="message-box" class="message-box"></div>
    <div id="loading-spinner" class="spinner hidden"></div>
    <div class="container mx-auto">
        <header class="text-center mb-8">
            <div class="post9-logo mb-2">
                <span class="post9-title">***Post*<span class="post9-accent">9</span>**</span>
            </div>
            <div class="post9-tagline">Stop Betting. Start Investing.</div>
            <p class="text-xl text-gray-300 mt-2">Professional Analytics & Bot Management</p>
            <p class="text-sm text-gray-400 mt-2">User ID: <span id="user-id">Loading...</span></p>
        </header>
        <div id="dashboard-page">
            <section id="overall-stats-section" class="mb-12">
                <h2 class="text-2xl font-bold mb-6 text-white">Overall Stats</h2>
                <div id="stats-container" class="stats-grid">
                    <div class="stats-card">
                        <span class="stats-icon">üí∞</span>
                        <span class="stats-label">Total Profit</span>
                        <span id="total-profit" class="stats-value">$0.00</span>
                        <span class="stats-trend" id="profit-trend"></span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-icon">üé≤</span>
                        <span class="stats-label">Total Wagers</span>
                        <span id="total-wagers" class="stats-value">0</span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-icon">üèÜ</span>
                        <span class="stats-label">Win Rate</span>
                        <span id="win-rate" class="stats-value">0.00%</span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-icon">üöÄ</span>
                        <span class="stats-label">Best Bot</span>
                        <span id="best-bot-name" class="stats-value">-</span>
                        <span id="best-bot-profit" class="stats-trend"></span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-icon">‚ö†Ô∏è</span>
                        <span class="stats-label">Worst Bot</span>
                        <span id="worst-bot-name" class="stats-value">-</span>
                        <span id="worst-bot-profit" class="stats-trend negative"></span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-icon">ü§ñ</span>
                        <span class="stats-label">ML Models</span>
                        <span id="ml-models-active" class="stats-value">3</span>
                        <span class="stats-trend positive" id="ml-models-trend">Active</span>
                    </div>
                    <div class="stats-card">
                        <span class="stats-icon">üéØ</span>
                        <span class="stats-label">ML Accuracy</span>
                        <span id="ml-accuracy" class="stats-value">67.5%</span>
                        <span class="stats-trend positive" id="ml-accuracy-trend">‚ñ≤ +2.1%</span>
                    </div>
                </div>
                <div id="stats-breakdown-inline"></div>
            </section>
            <section class="table-container mb-12 post9-card">
                <h2 class="text-2xl font-bold mb-4 text-white">Active Bots</h2>
                <div id="active-bots-container" class="overflow-x-auto rounded-lg shadow-sm post9-card">
                    <p id="active-bots-loading" class="text-center text-gray-500">Loading active bots...</p>
                </div>
            </section>
            <section class="table-container mb-12 post9-card">
                <h2 class="text-2xl font-bold mb-4 text-white">Bot Manager</h2>
                <button type="button" class="post9-btn p-3 mb-4" onclick="showModal('add-bot-modal')">Add Bot</button>
                <div id="inactive-bots-container" class="overflow-x-auto rounded-lg shadow-sm post9-card">
                    <p id="inactive-bots-loading" class="text-center text-gray-500">Loading inactive bots...</p>
                </div>
            </section>
            <section class="table-container post9-card">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold text-white">Strategy Manager</h2>
                    <div class="flex gap-3">
                        <button type="button" class="post9-btn p-3" onclick="showModal('strategy-templates-modal')">üìã Templates</button>
                        <button type="button" class="post9-btn p-3" onclick="showModal('add-strategy-modal')">+ Custom Strategy</button>
                    </div>
                </div>
                
                <!-- Quick Strategy Templates -->
                <div class="mb-6">
                    <h3 class="text-lg font-semibold mb-3 text-white">Quick Templates</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div class="bg-gradient-to-br from-green-500 to-green-700 p-4 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('positive_ev')">
                            <div class="text-2xl mb-2">üí∞</div>
                            <div class="font-bold">+eV Template</div>
                            <div class="text-sm opacity-90">Expected Value based betting</div>
                        </div>
                        <div class="bg-gradient-to-br from-blue-500 to-blue-700 p-4 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('conservative')">
                            <div class="text-2xl mb-2">üõ°Ô∏è</div>
                            <div class="font-bold">Conservative</div>
                            <div class="text-sm opacity-90">Low risk, steady gains</div>
                        </div>
                        <div class="bg-gradient-to-br from-orange-500 to-red-600 p-4 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('aggressive')">
                            <div class="text-2xl mb-2">üöÄ</div>
                            <div class="font-bold">Aggressive</div>
                            <div class="text-sm opacity-90">High risk, high reward</div>
                        </div>
                        <div class="bg-gradient-to-br from-purple-500 to-purple-700 p-4 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('recovery')">
                            <div class="text-2xl mb-2">üîÑ</div>
                            <div class="font-bold">Loss Recovery</div>
                            <div class="text-sm opacity-90">Recover from losses</div>
                        </div>
                    </div>
                </div>
                
                <div id="strategies-container" class="overflow-x-auto rounded-lg shadow-sm post9-card">
                    <p id="strategies-loading" class="text-center text-gray-500">Loading strategies...</p>
                </div>
            </section>
        </div>
        <!-- Add Bot Modal -->
        <div id="add-bot-modal" class="modal">
            <div class="modal-content post9-card">
                <span class="modal-close" onclick="closeModal('add-bot-modal')">&times;</span>
                <h3 class="text-xl font-bold mb-4 text-white">Add Bot</h3>
                <form id="add-bot-form" class="flex flex-col gap-4">
                    <input type="text" name="name" placeholder="Bot Name" required>
                    <input type="number" name="starting_balance" placeholder="Starting Balance" required>
                    <input type="number" name="bet_percentage" placeholder="Bet %" required>
                    <input type="number" name="max_bets_per_week" placeholder="Max Bets/Week" required>
                    <select name="strategy_id" id="strategy-select" required></select>
                    <select name="sport" required>
                        <option value="NBA">NBA</option>
                        <option value="NFL">NFL</option>
                        <option value="MLB">MLB</option>
                        <option value="NCAAF">NCAAF</option>
                        <option value="NCAAB">NCAAB</option>
                    </select>
                    <select name="bet_type" required>
                        <option value="Moneyline">Moneyline</option>
                        <option value="Spread">Spread</option>
                        <option value="Totals">Totals</option>
                    </select>
                    <button type="submit" class="post9-btn p-3 mt-2">Add Bot</button>
                </form>
            </div>
        </div>
        
        <!-- Strategy Templates Modal -->
        <div id="strategy-templates-modal" class="modal">
            <div class="modal-content post9-card max-w-4xl">
                <span class="modal-close" onclick="closeModal('strategy-templates-modal')">&times;</span>
                <h3 class="text-2xl font-bold mb-6 text-white">Strategy Templates</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- +eV Template -->
                    <div class="bg-gradient-to-br from-green-500 to-green-700 p-6 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('positive_ev')">
                        <div class="text-4xl mb-4">üí∞</div>
                        <h4 class="text-xl font-bold mb-2">Expected Value (+eV)</h4>
                        <p class="text-sm opacity-90 mb-4">Focus on bets with positive expected value. Calculates probability vs. odds to find profitable opportunities.</p>
                        <div class="text-xs bg-black bg-opacity-30 p-2 rounded">
                            <strong>Logic:</strong> IF (Expected Value > 5%) THEN Place Bet
                        </div>
                    </div>
                    
                    <!-- Conservative Template -->
                    <div class="bg-gradient-to-br from-blue-500 to-blue-700 p-6 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('conservative')">
                        <div class="text-4xl mb-4">üõ°Ô∏è</div>
                        <h4 class="text-xl font-bold mb-2">Conservative Strategy</h4>
                        <p class="text-sm opacity-90 mb-4">Low risk approach with smaller bet sizes and higher confidence requirements.</p>
                        <div class="text-xs bg-black bg-opacity-30 p-2 rounded">
                            <strong>Logic:</strong> IF (Confidence > 75% AND Odds < 2.0) THEN Bet 1-2%
                        </div>
                    </div>
                    
                    <!-- Aggressive Template -->
                    <div class="bg-gradient-to-br from-orange-500 to-red-600 p-6 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('aggressive')">
                        <div class="text-4xl mb-4">üöÄ</div>
                        <h4 class="text-xl font-bold mb-2">Aggressive Strategy</h4>
                        <p class="text-sm opacity-90 mb-4">Higher risk, higher reward with larger bet sizes and more frequent betting.</p>
                        <div class="text-xs bg-black bg-opacity-30 p-2 rounded">
                            <strong>Logic:</strong> IF (Confidence > 60% AND Value > 3%) THEN Bet 3-5%
                        </div>
                    </div>
                    
                    <!-- Recovery Template -->
                    <div class="bg-gradient-to-br from-purple-500 to-purple-700 p-6 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('recovery')">
                        <div class="text-4xl mb-4">üîÑ</div>
                        <h4 class="text-xl font-bold mb-2">Loss Recovery</h4>
                        <p class="text-sm opacity-90 mb-4">Recover losses with calculated risk management and progressive betting.</p>
                        <div class="text-xs bg-black bg-opacity-30 p-2 rounded">
                            <strong>Logic:</strong> IF (Down > 10%) THEN Increase Bet Size by 50%
                        </div>
                    </div>
                    
                    <!-- Value Hunting Template -->
                    <div class="bg-gradient-to-br from-teal-500 to-cyan-600 p-6 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('value_hunting')">
                        <div class="text-4xl mb-4">üéØ</div>
                        <h4 class="text-xl font-bold mb-2">Value Hunter</h4>
                        <p class="text-sm opacity-90 mb-4">Finds undervalued odds across multiple sportsbooks for maximum profit.</p>
                        <div class="text-xs bg-black bg-opacity-30 p-2 rounded">
                            <strong>Logic:</strong> IF (Best Odds > Market Average + 5%) THEN Place Bet
                        </div>
                    </div>
                    
                    <!-- Arbitrage Template -->
                    <div class="bg-gradient-to-br from-indigo-500 to-purple-600 p-6 rounded-lg text-white cursor-pointer hover:scale-105 transition-transform" onclick="createFromTemplate('arbitrage')">
                        <div class="text-4xl mb-4">‚öñÔ∏è</div>
                        <h4 class="text-xl font-bold mb-2">Arbitrage</h4>
                        <p class="text-sm opacity-90 mb-4">Risk-free profit by betting both sides across different sportsbooks.</p>
                        <div class="text-xs bg-black bg-opacity-30 p-2 rounded">
                            <strong>Logic:</strong> IF (Arbitrage Opportunity > 1%) THEN Place Both Bets
                        </div>
                    </div>
                </div>
                
                <div class="mt-6 text-center">
                    <button onclick="closeModal('strategy-templates-modal')" class="post9-btn px-6 py-2">Close</button>
                </div>
            </div>
        </div>
        
        <!-- Add Strategy Modal -->
        <div id="add-strategy-modal" class="modal">
            <div class="modal-content post9-card">
                <span class="modal-close" onclick="closeModal('add-strategy-modal')">&times;</span>
                <h3 class="text-xl font-bold mb-4 text-white">Add Strategy</h3>
                <form id="add-strategy-form" class="flex flex-col gap-4">
                    <input type="text" name="name" placeholder="Strategy Name" required>
                    <select name="type" required>
                        <option value="basic">Basic</option>
                        <option value="recovery">Recovery</option>
                    </select>
                    <select name="linked_strategy_id" id="linked-strategy-select">
                        <option value="">Link Recovery Strategy (Optional)</option>
                    </select>
                    <input type="text" name="description" placeholder="Description">
                    <button type="submit" class="post9-btn p-3 mt-2">Add Strategy</button>
                </form>
            </div>
        </div>
        <div id="investments-page" class="mt-8 post9-card rounded-lg shadow-lg p-6 relative" style="display: none;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">Available Investments</h2>
                <div class="flex items-center gap-4">
                    <button id="cart-toggle-btn" class="post9-btn px-4 py-2 relative" onclick="toggleBetCart()">
                        <span class="inline-block mr-2">üõí</span>Bet Cart
                        <span id="cart-count-badge" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full text-xs px-2 py-1 hidden">0</span>
                    </button>
                </div>
            </div>
            <div id="sport-tabs-container" class="mb-6"></div>
            <div id="cache-indicator" class="w-3 h-3 rounded-full bg-blue-500 inline-block mr-2"></div>
            <span id="cache-text" class="text-sm text-gray-300"></span>
            <div id="investments-container" class="mt-6"></div>
            <div id="no-investments-message" class="text-center text-gray-400 mt-8 hidden">No investments available.</div>
            <button id="refresh-investments-btn" class="post9-btn px-4 py-2 mt-6"><span id="refresh-icon" class="inline-block mr-2">üîÑ</span>Refresh Investments</button>
            
            <!-- Bet Cart Sidebar -->
            <div id="bet-cart-sidebar" class="fixed right-0 top-0 h-full w-96 bg-white shadow-2xl transform translate-x-full transition-transform duration-300 z-50 overflow-hidden">
                <div class="h-full flex flex-col">
                    <div class="p-4 border-b bg-gray-50">
                        <div class="flex justify-between items-center">
                            <h3 class="text-xl font-bold text-gray-900">Bet Cart</h3>
                            <button onclick="closeBetCart()" class="text-gray-500 hover:text-gray-700">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        <p class="text-sm text-gray-600 mt-1">Selected: <span id="cart-items-count">0</span> bets</p>
                    </div>
                    
                    <div class="flex-1 overflow-y-auto p-4">
                        <div id="cart-items-container" class="space-y-3">
                            <div id="empty-cart-message" class="text-center text-gray-500 mt-8">
                                <p class="text-lg">üõí</p>
                                <p>No bets selected</p>
                                <p class="text-sm">Add bets from the investment options</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="border-t bg-gray-50 p-4">
                        <div class="mb-3">
                            <div class="text-sm text-gray-600">Total Potential Payout:</div>
                            <div id="cart-total-payout" class="text-xl font-bold text-green-600">$0.00</div>
                        </div>
                        <div class="space-y-2">
                            <button id="place-bets-btn" onclick="showBetConfirmation()" class="w-full post9-btn py-3" disabled>
                                Place Selected Bets
                            </button>
                            <button id="export-excel-btn" onclick="exportToExcel()" class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 disabled:opacity-50" disabled>
                                Export to Excel
                            </button>
                            <button onclick="clearCart()" class="w-full bg-gray-500 text-white py-2 px-4 rounded-lg hover:bg-gray-600">
                                Clear Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Cart Overlay -->
            <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" onclick="closeBetCart()"></div>
        </div>
        <div id="account-page" class="mt-8 post9-card rounded-lg shadow-lg p-6" style="display: none;">
            <h2 class="text-2xl font-bold mb-6 text-white">Account</h2>
            <div id="api-status-section" class="mb-6 post9-card p-4">
                <h3 class="text-lg font-bold text-white mb-2">API Usage</h3>
                <div class="flex flex-col gap-2">
                    <div class="flex items-center gap-2">
                        <span class="stats-label">Requests Remaining:</span>
                        <span id="api-requests-remaining" class="stats-value">-</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <span class="stats-label">Requests Used:</span>
                        <span id="api-requests-used" class="stats-value">-</span>
                    </div>
                </div>
            </div>
            <div id="auth-section" class="mb-8">
                <form id="signin-form-element" class="flex flex-col gap-4 mb-4 post9-card p-4">
                    <input type="email" name="email" placeholder="Email" required>
                    <input type="password" name="password" placeholder="Password" required>
                    <button type="submit" class="post9-btn p-3">Sign In</button>
                </form>
                <form id="signup-form-element" class="flex flex-col gap-4 mb-4 post9-card p-4" style="display:none;">
                    <input type="email" name="email" placeholder="Email" required>
                    <input type="password" name="password" placeholder="Password" required>
                    <input type="password" name="confirmPassword" placeholder="Confirm Password" required>
                    <button type="submit" class="post9-btn p-3">Sign Up</button>
                </form>
                <button id="demo-signin-btn" class="post9-btn p-3">Demo Sign In</button>
            </div>
            <div id="account-management-section" class="mb-8 hidden post9-card p-4">
                <div class="mb-4">
                    <span class="text-lg font-bold text-white">Welcome, <span id="user-email-display">Demo Mode</span></span>
                </div>
                <form id="profile-form" class="flex flex-col gap-4 mb-4">
                    <input type="email" id="profile-email" name="email" placeholder="Email">
                    <input type="text" id="profile-display-name" name="displayName" placeholder="Display Name">
                    <button type="submit" class="post9-btn p-3">Update Profile</button>
                </form>
                <form id="password-form" class="flex flex-col gap-4 mb-4">
                    <input type="password" name="currentPassword" placeholder="Current Password">
                    <input type="password" name="newPassword" placeholder="New Password">
                    <input type="password" name="confirmNewPassword" placeholder="Confirm New Password">
                    <button type="submit" class="post9-btn p-3">Change Password</button>
                </form>
                <button id="logout-btn" class="post9-btn p-3 mb-2">Sign Out</button>
                <button id="delete-account-btn" class="post9-btn p-3 bg-red-600 text-white">Delete Account</button>
            </div>
        </div>

        <!-- Strategy Builder Page -->
        <div id="strategy-builder-page" class="mt-8 post9-card rounded-lg shadow-lg p-6" style="display: none;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">Visual Strategy Builder</h2>
                <div class="flex gap-3">
                    <button onclick="showModal('strategy-templates-modal')" class="post9-btn px-4 py-2">üìã Templates</button>
                    <button onclick="saveCurrentStrategy()" class="post9-btn px-4 py-2">üíæ Save Strategy</button>
                    <button onclick="showStrategyBuilderHelp()" class="post9-btn px-4 py-2">‚ùì Help</button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 h-96">
                <!-- Component Palette -->
                <div class="bg-gray-100 rounded-lg p-4 overflow-y-auto">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Components</h3>
                    
                    <div class="mb-4">
                        <h4 class="font-medium text-gray-800 mb-2">Logic Blocks</h4>
                        <div class="space-y-2">
                            <div class="draggable-component bg-blue-200 border-2 border-blue-400 p-3 rounded-lg cursor-pointer text-blue-900 font-semibold hover:bg-blue-300 transition-colors" data-type="if-condition">
                                üìã IF/THEN
                            </div>
                            <div class="draggable-component bg-blue-200 border-2 border-blue-400 p-3 rounded-lg cursor-pointer text-blue-900 font-semibold hover:bg-blue-300 transition-colors" data-type="and-or">
                                üîó AND/OR
                            </div>
                            <div class="draggable-component bg-blue-200 border-2 border-blue-400 p-3 rounded-lg cursor-pointer text-blue-900 font-semibold hover:bg-blue-300 transition-colors" data-type="comparison">
                                ‚öñÔ∏è Compare
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h4 class="font-medium text-gray-800 mb-2">Data Sources</h4>
                        <div class="space-y-2">
                            <div class="draggable-component bg-green-200 border-2 border-green-400 p-3 rounded-lg cursor-pointer text-green-900 font-semibold hover:bg-green-300 transition-colors" data-type="weather">
                                üå§Ô∏è Weather
                            </div>
                            <div class="draggable-component bg-green-200 border-2 border-green-400 p-3 rounded-lg cursor-pointer text-green-900 font-semibold hover:bg-green-300 transition-colors" data-type="team-stats">
                                üìä Team Stats
                            </div>
                            <div class="draggable-component bg-green-200 border-2 border-green-400 p-3 rounded-lg cursor-pointer text-green-900 font-semibold hover:bg-green-300 transition-colors" data-type="model-prediction">
                                ü§ñ ML Model
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <h4 class="font-medium text-gray-800 mb-2">Actions</h4>
                        <div class="space-y-2">
                            <div class="draggable-component bg-amber-200 border-2 border-amber-400 p-3 rounded-lg cursor-pointer text-amber-900 font-semibold hover:bg-amber-300 transition-colors" data-type="place-bet">
                                üí∞ Place Bet
                            </div>
                            <div class="draggable-component bg-amber-200 border-2 border-amber-400 p-3 rounded-lg cursor-pointer text-amber-900 font-semibold hover:bg-amber-300 transition-colors" data-type="skip-bet">
                                ‚è≠Ô∏è Skip Bet
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Visual Flow Canvas -->
                <div class="lg:col-span-2 bg-white rounded-lg p-4 border-2 border-dashed border-gray-300 relative">
                    <!-- Canvas Controls -->
                    <div class="absolute top-2 right-2 flex gap-2 z-10">
                        <button onclick="clearCanvas()" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors">
                            üóëÔ∏è Clear
                        </button>
                        <button onclick="undoLastAction()" class="bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm font-medium transition-colors">
                            ‚Ü∂ Undo
                        </button>
                    </div>
                    
                    <div id="strategy-canvas" class="w-full h-full min-h-96">
                        <div class="absolute inset-0 flex items-center justify-center text-gray-500" id="canvas-placeholder">
                            <div class="text-center">
                                <div class="text-4xl mb-2">üéØ</div>
                                <p>Drag components here to build your strategy</p>
                                <p class="text-sm mt-1">Start with an IF/THEN block</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Parameters Panel -->
                <div class="bg-gray-100 rounded-lg p-4 overflow-y-auto">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Parameters</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Risk Level</label>
                            <input type="range" id="risk-level" min="1" max="10" value="5" class="w-full">
                            <div class="flex justify-between text-xs text-gray-500">
                                <span>Conservative</span>
                                <span id="risk-level-value">5</span>
                                <span>Aggressive</span>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Bet Size %</label>
                            <input type="range" id="bet-size-percent" min="0.5" max="10" step="0.1" value="2.5" class="w-full">
                            <div class="text-center text-sm text-gray-700">
                                <span id="bet-size-value">2.5</span>% of balance
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Max Bets/Week</label>
                            <input type="number" id="max-bets-week" min="1" max="50" value="5" class="w-full p-2 border border-gray-300 rounded">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Recovery Strategy</label>
                            <select id="recovery-strategy" class="w-full p-2 border border-gray-300 rounded">
                                <option value="none">None</option>
                                <option value="martingale">Martingale</option>
                                <option value="fibonacci">Fibonacci</option>
                                <option value="kelly">Kelly Criterion</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <button onclick="testStrategy()" class="w-full post9-btn mb-2">üß™ Test Strategy</button>
                        <button onclick="simulateStrategy()" class="w-full post9-btn">üìà Backtest</button>
                    </div>
                </div>
            </div>
            
            <!-- Strategy Output Preview -->
            <div class="mt-6 bg-gray-800 text-green-400 p-4 rounded-lg">
                <h4 class="text-lg font-semibold mb-2">Strategy Logic (Plain English)</h4>
                <div id="strategy-description" class="font-mono text-sm">
                    Build your strategy above to see the logic description here...
                </div>
            </div>
        </div>

        <!-- Model Gallery Page -->
        <div id="model-gallery-page" class="mt-8 post9-card rounded-lg shadow-lg p-6" style="display: none;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">Model Gallery</h2>
                <div class="flex gap-3">
                    <button onclick="showModal('train-custom-model-modal')" class="post9-btn px-4 py-2">Train Custom Model</button>
                    <button onclick="showModal('model-comparison-modal')" class="post9-btn px-4 py-2">Compare Models</button>
                </div>
            </div>
            
            <!-- Model Filters -->
            <div class="bg-gray-100 p-4 rounded-lg mb-6">
                <div class="flex flex-wrap gap-4 items-center">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Sport</label>
                        <select id="model-filter-sport" class="p-2 border border-gray-300 rounded">
                            <option value="all">All Sports</option>
                            <option value="nfl">NFL</option>
                            <option value="nba">NBA</option>
                            <option value="mlb">MLB</option>
                            <option value="ncaaf">NCAAF</option>
                            <option value="ncaab">NCAAB</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Model Type</label>
                        <select id="model-filter-type" class="p-2 border border-gray-300 rounded">
                            <option value="all">All Types</option>
                            <option value="lstm">LSTM</option>
                            <option value="transformer">Transformer</option>
                            <option value="random_forest">Random Forest</option>
                            <option value="xgboost">XGBoost</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Performance</label>
                        <select id="model-filter-performance" class="p-2 border border-gray-300 rounded">
                            <option value="all">All Performance</option>
                            <option value="high">High (>70%)</option>
                            <option value="medium">Medium (60-70%)</option>
                            <option value="low">Low (<60%)</option>
                        </select>
                    </div>
                    <button onclick="filterModels()" class="post9-btn px-4 py-2 mt-6">Apply Filters</button>
                </div>
            </div>
            
            <!-- Model Grid -->
            <div id="models-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Models will be populated here -->
            </div>
        </div>

        <!-- Training Queue Page -->
        <div id="training-queue-page" class="mt-8 post9-card rounded-lg shadow-lg p-6" style="display: none;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">üî• Training Queue & GPU Resources</h2>
                <div class="flex gap-3">
                    <button onclick="refreshTrainingQueue()" class="post9-btn px-4 py-2">üîÑ Refresh</button>
                    <button onclick="showModal('submit-training-modal')" class="post9-btn px-4 py-2">üöÄ Submit Training Job</button>
                </div>
            </div>

            <!-- GPU Resource Status -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                <div class="bg-gradient-to-br from-green-500 to-green-700 p-4 rounded-lg text-white">
                    <div class="text-2xl font-bold" id="available-gpus">2</div>
                    <div class="text-sm opacity-90">Available GPUs</div>
                    <div class="text-xs opacity-75">Ready for training</div>
                </div>
                <div class="bg-gradient-to-br from-blue-500 to-blue-700 p-4 rounded-lg text-white">
                    <div class="text-2xl font-bold" id="gpu-utilization">85%</div>
                    <div class="text-sm opacity-90">GPU Utilization</div>
                    <div class="text-xs opacity-75">Average across all GPUs</div>
                </div>
                <div class="bg-gradient-to-br from-orange-500 to-orange-700 p-4 rounded-lg text-white">
                    <div class="text-2xl font-bold" id="active-training-jobs">3</div>
                    <div class="text-sm opacity-90">Active Jobs</div>
                    <div class="text-xs opacity-75">Currently training</div>
                </div>
                <div class="bg-gradient-to-br from-purple-500 to-purple-700 p-4 rounded-lg text-white">
                    <div class="text-2xl font-bold" id="queued-jobs">5</div>
                    <div class="text-sm opacity-90">Queued Jobs</div>
                    <div class="text-xs opacity-75">Waiting to start</div>
                </div>
            </div>

            <!-- Training Queue Tabs -->
            <div class="mb-6">
                <nav class="flex space-x-1 bg-gray-800 rounded-lg p-1">
                    <button onclick="showTrainingTab('active')" id="active-tab" class="training-tab-btn active">Active Jobs</button>
                    <button onclick="showTrainingTab('queued')" id="queued-tab" class="training-tab-btn">Queue</button>
                    <button onclick="showTrainingTab('completed')" id="completed-tab" class="training-tab-btn">Completed</button>
                    <button onclick="showTrainingTab('gpu-stats')" id="gpu-stats-tab" class="training-tab-btn">GPU Stats</button>
                </nav>
            </div>

            <!-- Active Training Jobs -->
            <div id="active-training-tab" class="training-tab-content">
                <div class="space-y-4" id="active-jobs-container">
                    <!-- Active jobs will be populated here -->
                </div>
            </div>

            <!-- Queued Jobs -->
            <div id="queued-training-tab" class="training-tab-content" style="display: none;">
                <div class="space-y-4" id="queued-jobs-container">
                    <!-- Queued jobs will be populated here -->
                </div>
            </div>

            <!-- Completed Jobs -->
            <div id="completed-training-tab" class="training-tab-content" style="display: none;">
                <div class="space-y-4" id="completed-jobs-container">
                    <!-- Completed jobs will be populated here -->
                </div>
            </div>

            <!-- GPU Statistics -->
            <div id="gpu-stats-training-tab" class="training-tab-content" style="display: none;">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="gpu-stats-container">
                    <!-- GPU stats will be populated here -->
                </div>
            </div>
        </div>

        <!-- Advanced Analytics Page -->
        <div id="analytics-page" class="mt-8 post9-card rounded-lg shadow-lg p-6" style="display: none;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">Advanced Analytics</h2>
                <div class="flex gap-3">
                    <button onclick="exportAnalytics()" class="post9-btn px-4 py-2">üìä Export Report</button>
                    <button onclick="showModal('settings-modal')" class="post9-btn px-4 py-2">‚öôÔ∏è Settings</button>
                </div>
            </div>
            
            <!-- Summary Metrics -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                <div class="bg-green-100 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-green-800" id="analytics-total-profit">+$1,247</div>
                    <div class="text-sm text-green-600">Total Profit (30d)</div>
                    <div class="text-xs text-green-500">‚ñ≤ +5.2% vs last month</div>
                </div>
                <div class="bg-blue-100 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-blue-800" id="analytics-win-rate">68.4%</div>
                    <div class="text-sm text-blue-600">Win Rate</div>
                    <div class="text-xs text-blue-500">‚ñ≤ +2.1% vs last month</div>
                </div>
                <div class="bg-purple-100 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-purple-800" id="analytics-roi">+12.3%</div>
                    <div class="text-sm text-purple-600">ROI</div>
                    <div class="text-xs text-purple-500">‚ñ≤ +1.8% vs last month</div>
                </div>
                <div class="bg-orange-100 p-4 rounded-lg">
                    <div class="text-2xl font-bold text-orange-800" id="analytics-bets-count">89</div>
                    <div class="text-sm text-orange-600">Total Bets</div>
                    <div class="text-xs text-orange-500">‚ñ≤ +12 vs last month</div>
                </div>
            </div>
            
            <!-- Charts Row -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <!-- Profit Over Time Chart -->
                <div class="bg-white p-4 rounded-lg">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Profit Over Time</h3>
                    <div id="profit-over-time-chart" class="h-64 flex items-center justify-center text-gray-500">
                        Chart will be rendered here
                    </div>
                </div>
                
                <!-- Strategy Performance Chart -->
                <div class="bg-white p-4 rounded-lg">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Strategy Performance</h3>
                    <div id="strategy-performance-chart" class="h-64 flex items-center justify-center text-gray-500">
                        Chart will be rendered here
                    </div>
                </div>
            </div>
            
            <!-- Heatmap and Alerts -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Performance Heatmap -->
                <div class="bg-white p-4 rounded-lg">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Performance Heatmap</h3>
                    <div id="performance-heatmap" class="h-64">
                        <div class="text-sm text-gray-600 mb-2">Profit by Day & Time</div>
                        <div class="grid grid-cols-7 gap-1 text-xs">
                            <!-- Heatmap grid will be rendered here -->
                            <div class="text-center font-medium">Mon</div>
                            <div class="text-center font-medium">Tue</div>
                            <div class="text-center font-medium">Wed</div>
                            <div class="text-center font-medium">Thu</div>
                            <div class="text-center font-medium">Fri</div>
                            <div class="text-center font-medium">Sat</div>
                            <div class="text-center font-medium">Sun</div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Alerts -->
                <div class="bg-white p-4 rounded-lg">
                    <h3 class="text-lg font-semibold mb-4 text-gray-800">Recent Alerts</h3>
                    <div id="recent-alerts" class="space-y-3">
                        <div class="flex items-center p-2 bg-yellow-50 border border-yellow-200 rounded">
                            <span class="text-yellow-600 mr-2">üü°</span>
                            <div>
                                <div class="font-medium text-yellow-800">NFL Model Performance Drop</div>
                                <div class="text-xs text-yellow-600">2 hours ago</div>
                            </div>
                        </div>
                        <div class="flex items-center p-2 bg-red-50 border border-red-200 rounded">
                            <span class="text-red-600 mr-2">üî¥</span>
                            <div>
                                <div class="font-medium text-red-800">Losing Streak Detected (5 bets)</div>
                                <div class="text-xs text-red-600">4 hours ago</div>
                            </div>
                        </div>
                        <div class="flex items-center p-2 bg-green-50 border border-green-200 rounded">
                            <span class="text-green-600 mr-2">üü¢</span>
                            <div>
                                <div class="font-medium text-green-800">High Value Bet Found</div>
                                <div class="text-xs text-green-600">Lakers vs Warriors - 12 mins ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Predictive Analytics Page (formerly ML Dashboard) -->
        <div id="predictive-analytics-page" class="mt-8 post9-card rounded-lg shadow-lg p-6" style="display: none;">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-white">üîÆ Predictive Analytics</h2>
                <div class="flex gap-3">
                    <button onclick="refreshPredictiveModels()" class="post9-btn px-4 py-2">üîÑ Refresh Models</button>
                    <button onclick="showModal('train-model-modal')" class="post9-btn px-4 py-2">üèãÔ∏è Train Model</button>
                </div>
            </div>

            <!-- Predictive Analytics Tabs -->
            <div class="mb-6">
                <nav class="flex space-x-1 bg-gray-800 rounded-lg p-1">
                    <button onclick="showPredictiveTab('models')" id="models-tab" class="predictive-tab-btn active">Models</button>
                    <button onclick="showPredictiveTab('predictions')" id="predictions-tab" class="predictive-tab-btn">Predictions</button>
                    <button onclick="showPredictiveTab('training')" id="training-tab" class="predictive-tab-btn">Training</button>
                    <button onclick="showPredictiveTab('optimizer')" id="optimizer-tab" class="predictive-tab-btn">Kelly Optimizer</button>
                </nav>
            </div>

            <!-- Models Tab -->
            <div id="models-tab-content" class="predictive-tab-content">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <!-- Model Status Cards -->
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-gray-800">Active Models</h3>
                            <span class="text-2xl">ü§ñ</span>
                        </div>
                        <div class="text-2xl font-bold text-blue-600" id="active-models-count">3</div>
                        <div class="text-sm text-gray-600">Running</div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-gray-800">Avg Accuracy</h3>
                            <span class="text-2xl">üéØ</span>
                        </div>
                        <div class="text-2xl font-bold text-green-600" id="avg-accuracy">68.2%</div>
                        <div class="text-sm text-gray-600">Last 30 days</div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-gray-800">Predictions</h3>
                            <span class="text-2xl">üìä</span>
                        </div>
                        <div class="text-2xl font-bold text-purple-600" id="predictions-count">156</div>
                        <div class="text-sm text-gray-600">This month</div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-lg shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-lg font-bold text-gray-800">Profit</h3>
                            <span class="text-2xl">üí∞</span>
                        </div>
                        <div class="text-2xl font-bold text-green-600" id="model-profit">+$1,234</div>
                        <div class="text-sm text-gray-600">From predictions</div>
                    </div>
                </div>

                <!-- Model Gallery -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Model Gallery</h3>
                    <div id="predictive-models-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Models will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Predictions Tab -->
            <div id="predictions-tab-content" class="predictive-tab-content hidden">
                <div class="bg-white p-6 rounded-lg shadow mb-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">üîÆ Game Prediction Tool</h3>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Sport</label>
                            <select id="pred-sport" class="w-full p-2 border border-gray-300 rounded">
                                <option value="NBA">NBA</option>
                                <option value="NFL">NFL</option>
                                <option value="MLB">MLB</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Home Team Win %</label>
                            <input type="number" id="pred-home-win-pct" class="w-full p-2 border border-gray-300 rounded" 
                                   min="0" max="100" step="0.1" value="65.5" placeholder="65.5">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Away Team Win %</label>
                            <input type="number" id="pred-away-win-pct" class="w-full p-2 border border-gray-300 rounded" 
                                   min="0" max="100" step="0.1" value="58.2" placeholder="58.2">
                        </div>
                        <div class="flex items-end">
                            <button onclick="makePrediction()" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors">
                                Generate Prediction
                            </button>
                        </div>
                    </div>
                    
                    <div id="prediction-results" class="hidden mt-4 p-4 bg-gray-50 rounded-lg">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="text-center">
                                <div class="text-sm font-semibold text-gray-600">Predicted Outcome</div>
                                <div id="predicted-outcome" class="text-lg font-bold text-blue-600">-</div>
                                <div id="confidence-level" class="text-sm text-gray-500">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-sm font-semibold text-gray-600">Kelly Bet Size</div>
                                <div id="kelly-bet-size" class="text-lg font-bold text-green-600">-</div>
                                <div class="text-sm text-gray-500">Recommended</div>
                            </div>
                            <div class="text-center">
                                <div class="text-sm font-semibold text-gray-600">Expected ROI</div>
                                <div id="expected-roi" class="text-lg font-bold text-purple-600">-</div>
                                <div class="text-sm text-gray-500">Projected</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Predictions -->
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Recent Predictions</h3>
                    <div id="recent-predictions" class="space-y-3">
                        <!-- Recent predictions will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Training Tab -->
            <div id="training-tab-content" class="predictive-tab-content hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Model Training</h3>
                    <p class="text-gray-600 mb-4">Configure and train new predictive models for sports betting analysis.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Sport</label>
                            <select id="train-sport" class="w-full p-2 border border-gray-300 rounded">
                                <option value="NBA">NBA</option>
                                <option value="NFL">NFL</option>
                                <option value="MLB">MLB</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Model Type</label>
                            <select id="train-model-type" class="w-full p-2 border border-gray-300 rounded">
                                <option value="statistical">Statistical</option>
                                <option value="neural">Neural Network</option>
                                <option value="ensemble">Ensemble</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <button onclick="startModelTraining()" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition-colors">
                            Start Training
                        </button>
                    </div>
                </div>
            </div>

            <!-- Kelly Optimizer Tab -->
            <div id="optimizer-tab-content" class="predictive-tab-content hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Kelly Criterion Optimizer</h3>
                    <p class="text-gray-600 mb-4">Calculate optimal bet sizes using the Kelly Criterion for risk management.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Win Probability (%)</label>
                            <input type="number" id="kelly-win-prob" class="w-full p-2 border border-gray-300 rounded" 
                                   min="0" max="100" step="0.1" value="55.0">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Odds (Decimal)</label>
                            <input type="number" id="kelly-odds" class="w-full p-2 border border-gray-300 rounded" 
                                   min="1" step="0.01" value="2.00">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Bankroll ($)</label>
                            <input type="number" id="kelly-bankroll" class="w-full p-2 border border-gray-300 rounded" 
                                   min="1" value="1000">
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <button onclick="calculateKellyOptimal()" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors">
                            Calculate Optimal Bet
                        </button>
                    </div>
                    
                    <div id="kelly-results" class="mt-6 hidden p-4 bg-gray-50 rounded-lg">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="text-center">
                                <div class="text-sm font-semibold text-gray-600">Optimal Bet Size</div>
                                <div id="kelly-bet-amount" class="text-xl font-bold text-green-600">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-sm font-semibold text-gray-600">% of Bankroll</div>
                                <div id="kelly-percentage" class="text-xl font-bold text-blue-600">-</div>
                            </div>
                            <div class="text-center">
                                <div class="text-sm font-semibold text-gray-600">Expected Growth</div>
                                <div id="kelly-growth" class="text-xl font-bold text-purple-600">-</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="bot-details-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="window.closeModal('bot-details-modal')">&times;</span>
            <h2 class="text-2xl font-bold mb-4">Edit Bot: <span id="modal-bot-name"></span></h2>
            <form id="edit-bot-form" class="space-y-4">
                <input type="hidden" id="modal-bot-id">
                <div>
                    <label for="modal-name" class="block text-sm font-medium text-gray-700">Name</label>
                    <input type="text" id="modal-name" name="name" class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="modal-strategy" class="block text-sm font-medium text-gray-700">Strategy</label>
                    <select id="modal-strategy" name="strategy_id" class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        </select>
                </div>
                <div>
                    <label for="modal-balance" class="block text-sm font-medium text-gray-700">Current Balance</label>
                    <input type="number" step="0.01" id="modal-balance" name="current_balance" class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" disabled>
                </div>
                <div>
                    <label for="modal-bet-percent" class="block text-sm font-medium text-gray-700">Bet % of Balance</label>
                    <input type="number" step="0.01" id="modal-bet-percent" name="bet_percentage" class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label for="modal-max-bets" class="block text-sm font-medium text-gray-700">Max Bets / Week</label>
                    <input type="number" id="modal-max-bets" name="max_bets_per_week" class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Allowable Platforms</label>
                    <div class="mt-1 space-y-2">
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="modal-platform-draftkings" name="allowable_platforms" value="DraftKings" 
                                   class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
                            <span class="text-sm text-gray-700">DraftKings</span>
                        </label>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="modal-platform-fanduel" name="allowable_platforms" value="FanDuel" 
                                   class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
                            <span class="text-sm text-gray-700">FanDuel</span>
                        </label>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="modal-platform-betmgm" name="allowable_platforms" value="BetMGM" 
                                   class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
                            <span class="text-sm text-gray-700">BetMGM</span>
                        </label>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="modal-platform-caesars" name="allowable_platforms" value="Caesars" 
                                   class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
                            <span class="text-sm text-gray-700">Caesars</span>
                        </label>
                        <label class="flex items-center space-x-3">
                            <input type="checkbox" id="modal-platform-pointsbet" name="allowable_platforms" value="PointsBet" 
                                   class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
                            <span class="text-sm text-gray-700">PointsBet</span>
                        </label>
                    </div>
                    <p class="text-xs text-gray-500 mt-2">Select which sportsbooks this bot can consider for placing bets</p>
                </div>
                <button type="submit" class="w-full p-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-300">Save Changes</button>
            </form>
        </div>
    </div>
    
    <div id="strategy-details-modal" class="modal">
        <div class="modal-content max-w-2xl">
            <span class="modal-close" onclick="window.closeModal('strategy-details-modal')">&times;</span>
            <h2 class="text-2xl font-bold mb-4">Edit Strategy: <span id="strategy-modal-name"></span></h2>
            <form id="edit-strategy-form" class="space-y-4">
                <input type="hidden" id="strategy-modal-id">
                <div>
                    <label for="strategy-modal-description" class="block text-sm font-medium text-gray-700">Description</label>
                    <textarea id="strategy-modal-description" name="description" rows="4" class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700">Parameters</label>
                    <div id="strategy-modal-parameters" class="mt-1 space-y-3">
                        </div>
                </div>
                <button type="submit" class="w-full p-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition duration-300">Save Changes</button>
            </form>
        </div>
    </div>

    <div id="history-modal" class="modal">
        <div class="modal-content max-w-2xl">
            <span class="modal-close" onclick="window.closeModal('history-modal')">&times;</span>
            <h2 class="text-2xl font-bold mb-4">Bet History for <span id="history-bot-name"></span></h2>
            <div class="overflow-y-auto max-h-96">
                <table class="w-full divide-y divide-gray-200">
                    <thead>
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Teams</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Wager</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Odds</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Payout</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Outcome</th>
                        </tr>
                    </thead>
                    <tbody id="history-table-body" class="bg-white divide-y divide-gray-200">
                        </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="bot-log-modal" class="modal">
        <div class="modal-content max-w-2xl">
            <span class="modal-close" onclick="window.closeModal('bot-log-modal')">&times;</span>
            <h2 class="text-2xl font-bold mb-4">Bot Log for <span id="log-bot-name"></span></h2>
            <div class="overflow-y-auto max-h-96 bg-gray-100 p-4 rounded-md text-sm font-mono whitespace-pre-wrap">
                <pre id="bot-log-content"></pre>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content max-w-md">
            <span class="modal-close" onclick="window.closeModal('settings-modal')">&times;</span>
            <h2 class="text-2xl font-bold mb-4">Investment Settings</h2>
            <form id="settings-form" class="space-y-4">
                <div>
                    <label class="flex items-center space-x-3">
                        <input type="checkbox" id="auto-refresh-checkbox" name="auto_refresh_on_login" 
                               class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500">
                        <div class="flex flex-col">
                            <span class="text-sm font-medium text-gray-700">Auto-refresh on login</span>
                            <span class="text-xs text-gray-500">Automatically fetch fresh data when you open the app</span>
                        </div>
                    </label>
                </div>
                <div>
                    <label for="cache-expiry-select" class="block text-sm font-medium text-gray-700 mb-2">Cache expiry time</label>
                    <select id="cache-expiry-select" name="cache_expiry_minutes" 
                            class="w-full p-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        <option value="15">15 minutes</option>
                        <option value="30">30 minutes</option>
                        <option value="60">1 hour</option>
                        <option value="120">2 hours</option>
                        <option value="1440">24 hours</option>
                    </select>
                    <p class="text-xs text-gray-500 mt-1">How long to keep cached data before considering it stale</p>
                </div>
                <div class="bg-gray-50 p-3 rounded-md">
                    <h4 class="text-sm font-semibold text-gray-700 mb-2">Cache Statistics</h4>
                    <div class="space-y-1 text-xs text-gray-600">
                        <div>Last refresh: <span id="settings-last-refresh">-</span></div>
                        <div>Cached games: <span id="settings-cached-games">-</span></div>
                        <div>API calls saved: <span id="settings-api-saved">-</span></div>
                    </div>
                </div>
                <button type="submit" class="w-full p-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-300">
                    Save Settings
                </button>
            </form>
        </div>
    </div>
    
    <!-- Stats Breakdown Modal -->
    <div id="stats-breakdown-modal" class="modal">
        <div class="modal-content post9-card">
            <span class="modal-close" onclick="closeModal('stats-breakdown-modal')">&times;</span>
            <h3 id="stats-breakdown-title" class="text-xl font-bold mb-4 text-white">Stat Breakdown</h3>
            <div id="stats-breakdown-content"></div>
        </div>
    </div>

    <!-- Bet Confirmation Modal -->
    <div id="bet-confirmation-modal" class="modal">
        <div class="modal-content max-w-4xl">
            <span class="modal-close" onclick="window.closeModal('bet-confirmation-modal')">&times;</span>
            <h2 class="text-2xl font-bold mb-6">Confirm Bet Placement</h2>
            
            <div class="mb-6">
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                        <span class="font-semibold">Total Bets:</span>
                        <span id="confirm-bet-count">0</span>
                    </div>
                    <div>
                        <span class="font-semibold">Total Amount:</span>
                        <span id="confirm-total-amount" class="text-green-600 font-bold">$0.00</span>
                    </div>
                    <div>
                        <span class="font-semibold">Potential Payout:</span>
                        <span id="confirm-potential-payout" class="text-green-600 font-bold">$0.00</span>
                    </div>
                    <div>
                        <span class="font-semibold">Potential Profit:</span>
                        <span id="confirm-potential-profit" class="text-green-600 font-bold">$0.00</span>
                    </div>
                </div>
            </div>

            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-4">Bets by Sportsbook</h3>
                <div id="bets-by-sportsbook" class="space-y-4"></div>
            </div>

            <div class="mb-6">
                <h3 class="text-lg font-semibold mb-4">Bets by Bot</h3>
                <div id="bets-by-bot" class="space-y-4"></div>
            </div>

            <div class="flex justify-between">
                <div class="flex space-x-3">
                    <button onclick="exportToExcel()" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700">
                        Export to Excel
                    </button>
                </div>
                <div class="flex space-x-3">
                    <button onclick="window.closeModal('bet-confirmation-modal')" class="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600">
                        Cancel
                    </button>
                    <button onclick="confirmPlaceBets()" class="post9-btn px-6 py-2">
                        Confirm & Place Bets
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Sports Analytics Modal -->
    <div id="game-analytics-modal" class="modal">
        <div class="modal-content max-w-6xl">
            <span class="modal-close" onclick="window.closeModal('game-analytics-modal')">&times;</span>
            <h2 class="text-2xl font-bold mb-6 text-white" id="analytics-game-title">Game Analytics</h2>
            
            <!-- Game Summary Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div class="bg-gradient-to-r from-blue-500 to-blue-700 p-6 rounded-lg text-white">
                    <h3 class="text-xl font-bold mb-4">Game Overview</h3>
                    <div id="game-overview-content" class="space-y-2">
                        <div class="flex justify-between">
                            <span>Date:</span>
                            <span id="analytics-game-date">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Sport:</span>
                            <span id="analytics-game-sport">-</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Status:</span>
                            <span id="analytics-game-status" class="bg-green-500 px-2 py-1 rounded text-xs">Upcoming</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gradient-to-r from-green-500 to-green-700 p-6 rounded-lg text-white">
                    <h3 class="text-xl font-bold mb-4">AI Analysis</h3>
                    <div id="ai-analysis-content">
                        <p class="italic text-green-100 mb-2">Generating AI analysis...</p>
                        <div id="ai-analysis-text" class="text-sm">
                            This matchup presents intriguing dynamics with both teams showing strong recent form. Weather conditions and injury reports suggest a competitive game with potential value in the over/under markets.
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Market Movement Chart Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div class="bg-white p-6 rounded-lg">
                    <h3 class="text-lg font-bold mb-4 text-gray-800">Odds Movement Over Time</h3>
                    <div id="odds-movement-chart" class="h-64">
                        <canvas id="odds-chart-canvas" width="400" height="200"></canvas>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg">
                    <h3 class="text-lg font-bold mb-4 text-gray-800">Consensus Odds</h3>
                    <div id="consensus-odds-content" class="space-y-3">
                        <div class="flex justify-between items-center p-3 bg-gray-100 rounded">
                            <span class="font-medium">Moneyline Favorite</span>
                            <span id="consensus-moneyline" class="text-blue-600 font-bold">-</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-100 rounded">
                            <span class="font-medium">Spread Consensus</span>
                            <span id="consensus-spread" class="text-green-600 font-bold">-</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-100 rounded">
                            <span class="font-medium">Total Points</span>
                            <span id="consensus-total" class="text-purple-600 font-bold">-</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Team Stats and Historical Data -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <div class="bg-white p-6 rounded-lg">
                    <h3 class="text-lg font-bold mb-4 text-gray-800">Team Statistics</h3>
                    <div id="team-stats-content" class="overflow-x-auto">
                        <table class="w-full text-sm">
                            <thead class="bg-gray-100">
                                <tr>
                                    <th class="text-left p-2">Metric</th>
                                    <th class="text-center p-2" id="team1-header">Team 1</th>
                                    <th class="text-center p-2" id="team2-header">Team 2</th>
                                </tr>
                            </thead>
                            <tbody id="team-stats-body">
                                <tr class="border-b">
                                    <td class="p-2 font-medium">Win Rate</td>
                                    <td class="p-2 text-center" id="team1-win-rate">68%</td>
                                    <td class="p-2 text-center" id="team2-win-rate">72%</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-2 font-medium">Avg Score</td>
                                    <td class="p-2 text-center" id="team1-avg-score">112.3</td>
                                    <td class="p-2 text-center" id="team2-avg-score">108.7</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-2 font-medium">ATS Record</td>
                                    <td class="p-2 text-center" id="team1-ats">15-10-2</td>
                                    <td class="p-2 text-center" id="team2-ats">18-8-1</td>
                                </tr>
                                <tr class="border-b">
                                    <td class="p-2 font-medium">O/U Record</td>
                                    <td class="p-2 text-center" id="team1-ou">14-13</td>
                                    <td class="p-2 text-center" id="team2-ou">16-11</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-lg">
                    <h3 class="text-lg font-bold mb-4 text-gray-800">Historical Matchups</h3>
                    <div id="historical-matchups" class="space-y-3">
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                            <span>Last 5 Meetings</span>
                            <span class="font-bold">3-2</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                            <span>Home Team Record</span>
                            <span class="font-bold">4-1</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                            <span>Avg Total Points</span>
                            <span class="font-bold">218.6</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-gray-50 rounded">
                            <span>Most Common Result</span>
                            <span class="font-bold">Home Win by 5-10</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Advanced Analytics -->
            <div class="bg-white p-6 rounded-lg mb-6">
                <h3 class="text-lg font-bold mb-4 text-gray-800">Advanced Metrics & Projections</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h4 class="font-bold text-blue-800 mb-2">Offensive Efficiency</h4>
                        <div class="space-y-1">
                            <div class="flex justify-between">
                                <span class="text-sm" id="team1-name-off">Team 1:</span>
                                <span class="font-bold text-blue-600" id="team1-off-eff">118.2</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm" id="team2-name-off">Team 2:</span>
                                <span class="font-bold text-blue-600" id="team2-off-eff">115.7</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-red-50 p-4 rounded-lg">
                        <h4 class="font-bold text-red-800 mb-2">Defensive Rating</h4>
                        <div class="space-y-1">
                            <div class="flex justify-between">
                                <span class="text-sm" id="team1-name-def">Team 1:</span>
                                <span class="font-bold text-red-600" id="team1-def-rating">109.3</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm" id="team2-name-def">Team 2:</span>
                                <span class="font-bold text-red-600" id="team2-def-rating">107.8</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-green-50 p-4 rounded-lg">
                        <h4 class="font-bold text-green-800 mb-2">Value Rating</h4>
                        <div class="space-y-1">
                            <div class="flex justify-between">
                                <span class="text-sm">Moneyline Value:</span>
                                <span class="font-bold text-green-600" id="moneyline-value">7.2%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm">Spread Value:</span>
                                <span class="font-bold text-green-600" id="spread-value">4.8%</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-sm">Total Value:</span>
                                <span class="font-bold text-green-600" id="total-value">12.1%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="flex justify-end space-x-3">
                <button onclick="exportGameAnalytics()" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">
                    üìä Export Report
                </button>
                <button onclick="addGameToWatchlist()" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700">
                    üëÄ Add to Watchlist
                </button>
            </div>
        </div>
    </div>
    
    <!-- Train Model Modal -->
    <div id="train-model-modal" class="modal">
        <div class="modal-content post9-card">
            <span class="modal-close" onclick="closeModal('train-model-modal')">&times;</span>
            <h3 class="text-xl font-bold mb-4 text-white">Train New Model</h3>
            <form id="train-model-form" class="flex flex-col gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-1">Model Name</label>
                    <input type="text" name="model_name" placeholder="e.g., NBA Advanced v2.0" class="w-full p-3 rounded-lg border border-gray-600 bg-gray-700 text-white" required>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-1">Sport</label>
                    <select name="sport" class="w-full p-3 rounded-lg border border-gray-600 bg-gray-700 text-white" required>
                        <option value="">Select Sport</option>
                        <option value="NBA">NBA</option>
                        <option value="NFL">NFL</option>
                        <option value="MLB">MLB</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-1">Model Type</label>
                    <select name="model_type" class="w-full p-3 rounded-lg border border-gray-600 bg-gray-700 text-white" required>
                        <option value="">Select Type</option>
                        <option value="statistical">Statistical</option>
                        <option value="neural">Neural Network</option>
                        <option value="ensemble">Ensemble</option>
                        <option value="lstm">LSTM</option>
                    </select>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1">Training Samples</label>
                        <input type="number" name="training_samples" placeholder="1000" min="100" max="10000" class="w-full p-3 rounded-lg border border-gray-600 bg-gray-700 text-white">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1">Epochs</label>
                        <input type="number" name="epochs" placeholder="50" min="10" max="200" class="w-full p-3 rounded-lg border border-gray-600 bg-gray-700 text-white">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-1">Description</label>
                    <textarea name="description" placeholder="Brief description of the model's purpose and features..." rows="3" class="w-full p-3 rounded-lg border border-gray-600 bg-gray-700 text-white"></textarea>
                </div>
                <div class="flex justify-end gap-3 mt-4">
                    <button type="button" onclick="closeModal('train-model-modal')" class="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">
                        Cancel
                    </button>
                    <button type="submit" class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                        Start Training
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Submit Training Job Modal -->
    <div id="submit-training-modal" class="modal">
        <div class="modal-content post9-card max-w-2xl">
            <span class="modal-close" onclick="closeModal('submit-training-modal')">&times;</span>
            <h3 class="text-2xl font-bold mb-6 text-white">üöÄ Submit Training Job</h3>
            
            <form id="submit-training-form" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-white mb-2">Sport</label>
                        <select name="sport" required class="w-full p-3 border border-gray-300 rounded-lg">
                            <option value="">Select Sport</option>
                            <option value="NBA">NBA</option>
                            <option value="NFL">NFL</option>
                            <option value="MLB">MLB</option>
                            <option value="NCAAF">NCAAF</option>
                            <option value="NCAAB">NCAAB</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-white mb-2">Model Type</label>
                        <select name="model_type" required class="w-full p-3 border border-gray-300 rounded-lg">
                            <option value="">Select Model Type</option>
                            <option value="lstm_weather">LSTM + Weather</option>
                            <option value="ensemble">Ensemble</option>
                            <option value="neural">Neural Network</option>
                            <option value="statistical">Statistical</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-white mb-2">Model Name</label>
                    <input type="text" name="model_id" required 
                           placeholder="e.g., nba_ensemble_v2" 
                           class="w-full p-3 border border-gray-300 rounded-lg">
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-white mb-2">Epochs</label>
                        <input type="number" name="epochs" value="50" min="10" max="200" 
                               class="w-full p-3 border border-gray-300 rounded-lg">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-white mb-2">Batch Size</label>
                        <select name="batch_size" class="w-full p-3 border border-gray-300 rounded-lg">
                            <option value="16">16</option>
                            <option value="32" selected>32</option>
                            <option value="64">64</option>
                            <option value="128">128</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-white mb-2">Learning Rate</label>
                        <select name="learning_rate" class="w-full p-3 border border-gray-300 rounded-lg">
                            <option value="0.0001">0.0001</option>
                            <option value="0.001" selected>0.001</option>
                            <option value="0.01">0.01</option>
                        </select>
                    </div>
                </div>
                
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                    <h4 class="font-semibold text-blue-800 mb-2">Training Information</h4>
                    <ul class="text-sm text-blue-700 space-y-1">
                        <li>‚Ä¢ Estimated training time: 15-45 minutes depending on model complexity</li>
                        <li>‚Ä¢ Jobs are queued and processed based on GPU availability</li>
                        <li>‚Ä¢ You'll receive notifications when training completes</li>
                        <li>‚Ä¢ Model performance metrics will be automatically tracked</li>
                    </ul>
                </div>
                
                <div class="flex gap-3 pt-4">
                    <button type="submit" class="flex-1 post9-btn py-3">
                        üöÄ Submit Training Job
                    </button>
                    <button type="button" onclick="closeModal('submit-training-modal')" 
                            class="px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Professional Footer -->
    <footer class="mt-16 bg-gray-900 text-gray-300 py-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4 text-white">Post9</h3>
                    <p class="text-sm">Sports Investment Headquarters - Professional analytics and bot management for serious sports investors.</p>
                </div>
                <div>
                    <h4 class="font-semibold mb-3 text-white">Platform</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="showPage('dashboard-page')" class="hover:text-blue-400">Dashboard</a></li>
                        <li><a href="#" onclick="showPage('model-gallery-page')" class="hover:text-blue-400">ML Models</a></li>
                        <li><a href="#" onclick="showPage('analytics-page')" class="hover:text-blue-400">Analytics</a></li>
                        <li><a href="#" onclick="showPage('predictive-analytics-page')" class="hover:text-blue-400">Predictive Analytics</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-3 text-white">Support</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="hover:text-blue-400">Documentation</a></li>
                        <li><a href="#" class="hover:text-blue-400">API Reference</a></li>
                        <li><a href="#" class="hover:text-blue-400">Contact Support</a></li>
                        <li><a href="#" class="hover:text-blue-400">Community</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-3 text-white">Legal</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="/terms" class="hover:text-blue-400">Terms of Service</a></li>
                        <li><a href="/privacy" class="hover:text-blue-400">Privacy Policy</a></li>
                        <li><a href="#" class="hover:text-blue-400">Risk Disclaimer</a></li>
                        <li><a href="#" class="hover:text-blue-400">Compliance</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-sm">
                <p>&copy; 2025 Post9. All rights reserved. | 
                <span class="text-yellow-400">‚ö†Ô∏è Investment involves risk. Past performance does not guarantee future results.</span></p>
            </div>
        </div>
    </footer>
    
    <script type="module" src="../static/scripts/scripts.js"></script>
</body>
</html>